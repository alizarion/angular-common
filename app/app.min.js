/*!
 * Copyright 2015 itesoft.
 * http://itesoft.com/
 *
 * ProductionManager, v1.0.0
 * A powerful production manager.*/
!function(){var e=angular.module("itesoft",[]);e.directive("itCheckbox",function(){return{restrict:"A",transclude:!0,replace:!0,link:function(e,t,n){var i=angular.element(t[0]);i.wrap('<div class="checkbox"></div>'),i.wrap("<label></label>"),i.after('<span class="checkbox-material"><span class="check"></span></span>&nbsp;'+e.itText)},scope:{itText:"@"}}}),e.directive("itInput",function(){return{restrict:"A",replace:!0,require:"?ngModel",link:function(e,t,n,i){if(i){var a=angular.element(t[0]);if(a.hasClass("floating-label")){a.wrap('<div class="form-control-wrapper"></div>');var r=a.attr("placeholder");r?a.after('<div class="floating-label">'+r+"</div"):(a.after('<div class="floating-label">'+e.itText+"</div"),e.$watch("itText",function(e){var t=a[0].offsetParent.children;angular.forEach(t,function(t){var n=angular.element(t);n.hasClass("floating-label")&&n.text(e)})})),a.after('<span class="material-input"></span>'),a.attr("placeholder","").removeClass("floating-label")}a.after('<small class="text-danger" style="display:none;"></small>'),e.$watch("itError",function(e){var t=a[0].offsetParent.children;angular.forEach(t,function(t){var n=angular.element(t);n.hasClass("text-danger")&&(n.text(e),""!=e&&void 0!=e?(n.removeClass("ng-hide"),n.addClass("ng-show"),n.css("display","block")):(n.removeClass("ng-show"),n.addClass("ng-hide"),n.css("display","none")))})}),(null===a.val()||"undefined"==a.val()||""===a.val())&&a.addClass("empty"),e.$watch(function(){return i.$modelValue},function(e,t){null===e||void 0==e||""===e?a.addClass("empty"):a.removeClass("empty")}),a.on("key change",function(){null===a.val()||"undefined"==a.val()||""===a.val()?a.addClass("empty"):a.removeClass("empty")})}},scope:{itError:"=",itText:"@"}}}),e.directive("itToggle",function(){return{restrict:"A",transclude:!0,link:function(e,t,n){var i=angular.element(t[0]);i.wrap('<div class="togglebutton"></div>'),i.wrap("<label>"+e.itText+"&nbsp;</label>"),i.after('<span class="toggle"></span>')},scope:{itModel:"=",itText:"@"}}}),e.directive("itPrettyprint",["$rootScope","$sanitize",function(e,t){return{restrict:"EA",terminal:!0,compile:function(e,n){return n["class"]?n["class"]&&-1==n["class"].split(" ").indexOf("prettyprint")&&n.$set("class",n["class"]+" prettyprint"):n.$set("class","prettyprint"),function(e,n,i){function a(e){return String(e).replace(/[&<>"'\/]/g,function(e){return r[e]})}var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};console.log(t()),n[0].innerHTML=prettyPrintOne(a(n[0].innerHTML))}}}}]),e.directive("itFillHeight",["$window","$document",function(e,t){return{restrict:"A",scope:{footerElementId:"@",additionalPadding:"@"},link:function(n,i,a){function r(){var a,r=angular.element(t[0].getElementById(n.footerElementId));a=1===r.length?r[0].offsetHeight+s(r)+l(r):0;var o=i[0].offsetTop,c=l(i),d=n.additionalPadding||0,u=e.innerHeight-o-c-a-d;i.css("height",u+"px")}function s(e){var t=o(e,"margin-top"),n=o(e,"border-top-width");return t+n}function l(e){var t=o(e,"margin-bottom"),n=o(e,"border-bottom-width");return t+n}function o(e,t){return parseInt(e.css(t),10)||0}angular.element(e).on("resize",r),r()}}}]),e.directive("itViewMasterHeader",function(){return{restrict:"E",transclude:!0,scope:!0,template:'<div class="row"><div class="col-md-6"><div class="btn-toolbar" ng-transclude></div></div><div class="col-md-6 pull-right"><div><form><div class="form-group has-feedback"><span class="glyphicon glyphicon-search form-control-feedback"></span><input it-input class="form-control" type="text" placeholder="Rechercher"/></div></form></div></div></div>'}}),e.directive("itViewPanel",function(){return{restrict:"E",transclude:!0,scope:!0,template:'<div class="jumbotron" ng-transclude></div>'}}),e.directive("itViewTitle",function(){return{restrict:"E",transclude:!0,scope:!0,template:"<h3 ng-transclude></h3><hr>"}}),e.directive("itCollapsedItem",function(){return{restrict:"A",link:function(e,t,n){var i=angular.element(t[0].querySelector("ul")),a=angular.element(t[0].querySelector("a"));i.addClass("it-side-menu-collapse"),t.addClass("it-sub-menu"),a.on("click",function(){i.hasClass("it-side-menu-collapse")?(i.removeClass("it-side-menu-collapse"),i.addClass("it-side-menu-expanded"),t.addClass("toggled")):(t.removeClass("toggled"),i.removeClass("it-side-menu-expanded"),i.addClass("it-side-menu-collapse"))})}}}),e.directive("itSideMenu",function(){return{restrict:"E",require:"^itSideMenus",transclude:!0,scope:!0,template:'<div class="it-side-menu it-side-menu-left it-side-menu-hide it-menu-animated" ng-class="{\'it-side-menu-hide\':!showmenu,\'it-side-menu-slide\':showmenu}"><div class="it-sidebar-inner"><div class="nav navbar navbar-inverse"><nav class="" ng-transclude ></nav></div></div></div>'}}),e.directive("itSideMenuContent",function(){return{restrict:"ECA",require:"^itSideMenus",transclude:!0,scope:!0,template:'<div class="it-menu-content menu-animated" ng-class="{\'it-side-menu-overlay\':showmenu}"><div class="it-container" ng-transclude></div></div>'}}),e.controller("$sideMenuCtrl",["$scope",function(e){var t=this;t.scope=e,t.scope.showmenu=!1,t.toggleMenu=function(){t.scope.showmenu=t.scope.showmenu?!1:!0},t.hideSideMenu=function(){t.scope.showmenu=!1}}]),e.directive("itSideMenuHeader",["$rootScope",function(e){return{restrict:"E",require:"^itSideMenus",transclude:!0,scope:!0,link:function(t,n,i,a){var r=angular.element(n[0].querySelector(".it-material-design-hamburger__layer")),s=angular.element(n[0].querySelector(".it-material-design-hamburger__icon"));t.toggleMenu=a.toggleMenu;var l=function(){r.hasClass("it-material-design-hamburger__icon--to-arrow")?(r.removeClass("it-material-design-hamburger__icon--to-arrow"),r.addClass("it-material-design-hamburger__icon--from-arrow"),e.$broadcast("it-sidemenu-state","opened")):(r.removeClass("it-material-design-hamburger__icon--from-arrow"),r.addClass("it-material-design-hamburger__icon--to-arrow"),e.$broadcast("it-sidemenu-state","closed"))};s.on("click",function(){l()}),i.itButtonMenu&&(t.itButtonMenu=t.$eval(i.itButtonMenu)),t.$watch(i.itButtonMenu,function(e,n){t.itButtonMenu=e,console.log("itButtonMenu value change",e),e&&(l(),console.log(" sideMenuCtrl.hideSideMenu()",e),a.hideSideMenu())})},template:'<nav id="header" class="it-side-menu-header nav navbar navbar-fixed-top navbar-inverse"><section class="it-material-design-hamburger" ng-hide="itButtonMenu"><button it-menu-toggle ng-click="toggleMenu()" class="it-material-design-hamburger__icon  "><span class="menu-animated it-material-design-hamburger__layer  "> </span></button> </section><div class="container-fluid" ng-transclude></div></nav>'}}]),e.directive("itMenuToggle",["$animate","$rootScope",function(e,t){return{restrict:"E",require:"^itSideMenus",compile:["scope","element","attrs",function(t,n,i){var a=angular.element(n[0].querySelector(".it-material-design-hamburger__layer"));n.on("click",function(){a.hasClass("it-material-design-hamburger__icon--to-arrow")?(e.removeClass(a,"it-material-design-hamburger__icon--to-arrow"),e.addClass(a,"it-material-design-hamburger__icon--from-arrow")):(e.removeClass(a,"it-material-design-hamburger__icon--from-arrow"),e.addClass(a,"it-material-design-hamburger__icon--to-arrow"))})}]}}]),e.directive("itSideMenus",function(){return{restrict:"ECA",transclude:!0,controller:"$sideMenuCtrl",template:'<div class="it-side-menu-group" ng-transclude></div>'}})}();