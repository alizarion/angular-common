<h1><code ng:non-bindable="">itAutoRefreshMessage</code>
<div><span class="hint">directive in module <code ng:non-bindable="">itesoft</code>
<code ng:non-bindable=""><a target="_blank" href="https://github.com/alizarion/angular-common/releases/tag/v1.2"> since v1.2</a></code>
</span>
</div>
</h1>
<div><h2 id="description">Description</h2>
<div class="description"><div class="itesoft-directive-page itesoft-directive-itautorefreshmessage-page"><p>The itAutoRefreshMessage provides dynamic message refresh.</p>
<pre><code class="lang-html">    &lt;it-auto-refresh-message refresh=&quot;5000&quot; transition=&quot;500&quot;
    elements=&quot;elements&quot;
       add-message-function=&quot;function()&quot;
       add-message-button-visible=&quot;true&quot;&gt;
       &lt;/it-auto-refresh-message&gt;
</code></pre>
</div></div>
<h2 id="usage">Usage</h2>
<div class="usage">as element:<pre class="prettyprint linenums">&lt;it-auto-refresh-message&gt;
&lt;/it-auto-refresh-message&gt;</pre>
</div>
<h2 id="example">Example</h2>
<div class="example"><div class="itesoft-directive-page itesoft-directive-itautorefreshmessage-page"><h4 id="example_source">Source</h4>
<div source-edit="itesoft" source-edit-deps="angular.js controller.js" source-edit-html="index.html-6" source-edit-css="" source-edit-js="controller.js" source-edit-json="" source-edit-unit="" source-edit-scenario=""></div>
<div class="tabbable"><div class="tab-pane" title="index.html">
<pre class="prettyprint linenums" ng-set-text="index.html-6" ng-html-wrap-loaded="itesoft angular.js controller.js"></pre>
<script type="text/ng-template" id="index.html-6">
<style>
</style>
<div ng-controller="HomeCtrl" >
<it-auto-refresh-message refresh="5000" transition="500"
elements="elements"
add-message-function="addMessage()"
add-message-button-visible="true">
</it-auto-refresh-message>
</div>
</script>
</div>
<div class="tab-pane" title="controller.js">
<pre class="prettyprint linenums" ng-set-text="controller.js"></pre>
<script type="text/ng-template" id="controller.js">
angular.module('itesoft')
.controller('HomeCtrl',['$scope', '$templateCache', 'itPopup', function ($scope,$templateCache,itPopup) {

       $scope.elements = [
          {"data" : {"from":"admin", "date": new Date(), "message":"Ceci est un exemple"}},
         {"data" : {"from":"admin", "date": new Date(), "message":"Ceci est un second exemple"}}
       ];

       $scope.currentMessage= '';

       $scope.addMessage= function(){
               var adminMessagePopup = itPopup.custom({
                   title: 'Ajouter un message',
                   backdrop: true,
                   scope: $scope,
                   text: '<div class="form-group full-with"> <label class="col-xs-12 col-md-6 col-lg-4 control-label">Message</label> <textarea class="comment-input" ng-model="currentMessage"></textarea></div>',
                    buttons: [{
                       text: 'Envoyer',
                       type: 'btn-success',
                       onTap: function (event,scope) {

                       var mess = {
                           data : {
                           date : new Date(),
                           from : "admin",
                           message : scope.currentMessage
                           }
                       }
                       scope.currentMessage = '';
                       $scope.elements.push(mess);

                       return true;
                       }
                   }, {
                       text: 'Annuler',
                       type: 'btn-primary',
                       onTap: function () {
                           return false;
                       }
                   }
                   ]
               });
       }
   }
]
);
</script>
</div>
</div><h4 id="example_demo">Demo</h4>
<div class="well doc-example-live animate-container" ng-embed-app="itesoft" ng-set-html="index.html-6" ng-eval-javascript="controller.js"></div>
</div></div>
</div>
